<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Download LEAP App</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: url('assets/background.webp') no-repeat center center / cover fixed;
      color: #1d1d1f;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    body::before {
      content: '';
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(13, 61, 47, 0.45);
      z-index: 0;
    }
    body > * {
      position: relative;
      z-index: 1;
    }

    /* Password screen */
    .password-screen {
      text-align: center;
      padding: 40px;
    }
    .password-screen .lock-icon {
      font-size: 48px;
      margin-bottom: 20px;
    }
    .password-screen h2 {
      font-size: 24px;
      font-weight: 600;
      margin-bottom: 8px;
      color: white;
    }
    .password-screen p {
      color: rgba(255,255,255,0.75);
      font-size: 14px;
      margin-bottom: 24px;
    }
    .password-input-wrapper {
      display: flex;
      gap: 10px;
      justify-content: center;
      align-items: center;
    }
    .password-input-wrapper input {
      padding: 12px 16px;
      border: 1px solid #d2d2d7;
      border-radius: 10px;
      font-size: 16px;
      width: 220px;
      outline: none;
      transition: border-color 0.2s;
    }
    .password-input-wrapper input:focus {
      border-color: #52a676;
    }
    .password-input-wrapper button {
      padding: 12px 24px;
      background: #52a676;
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.2s;
    }
    .password-input-wrapper button:hover {
      background: #478f65;
    }
    .error-msg {
      color: #ff6b6b;
      font-size: 13px;
      margin-top: 12px;
      display: none;
    }

    /* Download screen */
    .download-screen {
      display: none;
      width: 100%;
      max-width: 900px;
      padding: 40px 20px;
    }
    .app-header {
      text-align: center;
      margin-bottom: 48px;
    }
    .app-icon-main {
      width: 96px;
      height: 96px;
      background: linear-gradient(135deg, #52a676 0%, #2d8659 100%);
      border-radius: 22px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 16px;
      box-shadow: 0 4px 16px rgba(45, 134, 89, 0.3);
    }
    .app-icon-main svg {
      width: 52px;
      height: 52px;
      fill: white;
    }
    .app-header h1 {
      font-size: 32px;
      font-weight: 700;
      letter-spacing: -0.5px;
      margin-bottom: 6px;
    }
    .app-header p {
      color: #86868b;
      font-size: 16px;
    }

    /* App cards grid */
    .app-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 24px;
    }
    @media (max-width: 640px) {
      .app-grid {
        grid-template-columns: 1fr;
        gap: 16px;
      }
    }
    .app-card {
      background: white;
      border-radius: 16px;
      padding: 32px 24px;
      text-align: center;
      box-shadow: 0 2px 12px rgba(0,0,0,0.06);
      transition: transform 0.2s, box-shadow 0.2s;
      cursor: default;
    }
    .app-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 24px rgba(0,0,0,0.1);
    }
    .platform-icon {
      width: 72px;
      height: 72px;
      border-radius: 16px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 16px;
    }
    .platform-icon svg {
      width: 40px;
      height: 40px;
    }
    .platform-icon.android {
      background: #e8f5e9;
    }
    .platform-icon.android svg { fill: #3ddc84; }
    .platform-icon.ios {
      background: #f5f5f7;
    }
    .platform-icon.ios svg { fill: #1d1d1f; }
    .platform-icon.desktop {
      background: #e3f2fd;
    }
    .platform-icon.desktop svg { fill: #2196f3; }

    .app-card h3 {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 4px;
    }
    .app-card .platform-label {
      color: #86868b;
      font-size: 13px;
      margin-bottom: 20px;
    }
    .app-card .version {
      font-size: 12px;
      color: #aeaeb2;
      margin-bottom: 16px;
    }
    .download-btn {
      display: inline-block;
      padding: 10px 28px;
      background: #52a676;
      color: white;
      border: none;
      border-radius: 20px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      text-decoration: none;
      transition: background 0.2s;
    }
    .download-btn:hover {
      background: #478f65;
    }
    .download-btn.disabled {
      background: #d2d2d7;
      cursor: not-allowed;
      pointer-events: none;
    }

    .footer {
      text-align: center;
      margin-top: 40px;
      color: #aeaeb2;
      font-size: 12px;
    }
    .header-logos {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 16px;
      margin-bottom: 16px;
    }
    .header-logos img {
      height: 56px;
      width: auto;
      border-radius: 12px;
    }
  </style>
</head>
<body>

  <!-- Password Gate -->
  <div id="passwordScreen" class="password-screen">
    <div class="lock-icon">&#128274;</div>
    <h2>WET Wetland Monitoring</h2>
    <p>Enter the password to access downloads</p>
    <div class="password-input-wrapper">
      <input type="password" id="passwordInput" placeholder="Password" onkeydown="if(event.key==='Enter')checkPassword()">
      <button onclick="checkPassword()">Enter</button>
    </div>
    <p id="errorMsg" class="error-msg">Incorrect password. Please try again.</p>
  </div>

  <!-- Download Page -->
  <div id="downloadScreen" class="download-screen">
    <div class="app-header">
      <div class="header-logos">
        <img src="assets/natureSeychellesc.png" alt="Nature Seychelles Logo">
        <img src="assets/icon.png" alt="WET Logo">
      </div>
      <h1>WET App</h1>
      <h4>Wetland Monitoring</h4>
      <p>Download the app for your platform</p>
    </div>

    <div class="app-grid">
      <!-- Android -->
      <div class="app-card">
        <div class="platform-icon android">
          <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M6 18c0 .55.45 1 1 1h1v3.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V19h2v3.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V19h1c.55 0 1-.45 1-1V7H6v11zM3.5 7C2.67 7 2 7.67 2 8.5v7c0 .83.67 1.5 1.5 1.5S5 16.33 5 15.5v-7C5 7.67 4.33 7 3.5 7zm17 0c-.83 0-1.5.67-1.5 1.5v7c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5v-7c0-.83-.67-1.5-1.5-1.5zm-4.97-5.84l1.3-1.3c.2-.2.2-.51 0-.71-.2-.2-.51-.2-.71 0l-1.48 1.48C13.85.55 12.95.25 12 .25s-1.85.3-2.64.88L7.88.65c-.2-.2-.51-.2-.71 0-.2.2-.2.51 0 .71l1.3 1.3C7.17 3.6 6.2 5.21 6.2 7h11.6c0-1.79-.97-3.4-2.27-4.84zM10 5H9V4h1v1zm5 0h-1V4h1v1z"/>
          </svg>
        </div>
        <h3>Android</h3>
        <p class="platform-label">APK Download</p>
        <p class="version">Version 1.0.0</p>
        <a href="#" class="download-btn disabled" id="androidBtn">Coming Soon</a>
      </div>

      <!-- iOS -->
      <div class="app-card">
        <div class="platform-icon ios">
          <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.8-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"/>
          </svg>
        </div>
        <h3>iOS</h3>
        <p class="platform-label">IPA Download</p>
        <p class="version">Version 1.0.0</p>
        <a href="#" class="download-btn disabled" id="iosBtn">Coming Soon</a>
      </div>

      <!-- Desktop -->
      <div class="app-card">
        <div class="platform-icon desktop">
          <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M21 2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h7l-2 3v1h8v-1l-2-3h7c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 12H3V4h18v10z"/>
          </svg>
        </div>
        <h3>Desktop</h3>
        <p class="platform-label">Windows / macOS / Linux</p>
        <p class="version">Version 1.0.0</p>
        <a href="#" class="download-btn disabled" id="desktopBtn">Coming Soon</a>
      </div>
    </div>

    <div class="footer">
      <p>&copy; 2026 Nature Seychelles Wetland Monitoring Programme. All rights reserved.</p>
    </div>
  </div>

  <script>
    // Simple client-side password check (SHA-256 hash of "wetlands")
    const HASH = 'b3a3b23e3d1dc215f4b4fdcad140cc547e3f6f41dbda9a60de4dcf502e83a8ca';

    async function sha256(message) {
      const msgBuffer = new TextEncoder().encode(message);
      const hashBuffer = await crypto.subtle.digest('SHA-256', msgBuffer);
      const hashArray = Array.from(new Uint8Array(hashBuffer));
      return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
    }

    async function checkPassword() {
      const input = document.getElementById('passwordInput').value;
      const hash = await sha256(input);
      if (hash === HASH) {
        document.getElementById('passwordScreen').style.display = 'none';
        document.getElementById('downloadScreen').style.display = 'block';
        sessionStorage.setItem('leap_dl_auth', '1');
      } else {
        document.getElementById('errorMsg').style.display = 'block';
        document.getElementById('passwordInput').value = '';
        document.getElementById('passwordInput').focus();
      }
    }

    // Keep session alive if already authenticated
    if (sessionStorage.getItem('leap_dl_auth') === '1') {
      document.getElementById('passwordScreen').style.display = 'none';
      document.getElementById('downloadScreen').style.display = 'block';
    }
  </script>
</body>
</html>
